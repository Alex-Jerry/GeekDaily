<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:overflow="http://www.w3.org/1999/xhtml"
      xmlns:white-space="http://www.w3.org/1999/xhtml" xmlns:word-break="http://www.w3.org/1999/xhtml"
      xmlns:text-overflow="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>下载页面</title>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.js"></script>
</head>
<body>
<table width="1000">
    <thead>
    <tr>
        <th>行序号</th>
        <th>文件名称</th>
        <th>文件描述</th>
        <th>文件大小</th>
        <th>上传日期</th>
    </tr>
    </thead>
    <tbody align="center" th:remove="all-but-first">
    <tr th:each="file : ${fileList}">
        <td th:text="${file.id}">1</td>
        <td width="20%" overflow:scroll th:text="${file.fileName}">a</td>
        <td width="200px" white-space:nowrap th:text="${file.des}">sss</td>
        <td th:text="${file.size}">10000</td>
        <!--<td th:text="${file.date}">2018-06-15</td>-->
        <td th:text="${#dates.format(file.date, 'yyyy-MM-dd HH:mm:ss')}">2018-06-15 23:23:23</td>

        <td>
            <button type="button" th:fileName="${file.fileName}" id="down" onclick="download(this)">下载</button>
        </td>

        <td>
            <button type="button" th:fileName="${file.fileName}" id="edit" onclick="edit(this)">编辑</button>
        </td>

        <td>
            <button type="button" th:fileName="${file.fileName}" id="delete" onclick="del(this)">删除</button>
        </td>

        <script>
            function download(obj) {
                var fileName = $(obj).attr("fileName");
                // alert(fileName);
                // var url = "/poetry/download";
                // $.post(url,{"fileName":fileName},function () {
                //     alert("下载成功！！！");
                //     window.location.reload();
                // })
                window.location.href = "/download?fileName="+fileName;
            }
        </script>

        <script>
            function edit(obj) {
                var fileName = $(obj).attr("fileName");
                window.location.href = "/editFile?fileName="+fileName;
            }
        </script>

        <script>
            function del(obj) {
                var fileName = $(obj).attr("fileName");
                window.location.href = "/delete?fileName="+fileName;
            }
        </script>
    </tr>
    </tbody>
</table>

</body>
</html>